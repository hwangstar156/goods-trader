{"version":3,"sources":["redux/user/user.types.js","redux/user/user.action.js","redux/user/user.selector.js","component/sign-up/sign-up.component.jsx","firebase/firebase.utils.js","component/sign-in/sign-in.component.jsx","component/with-spinner/withSpinner.component.jsx","pages/userprofile/userprofile.utils.js","component/menu-item/menu-item.component.jsx","redux/idol/idol.selector.js","component/menu-aside/menu-aside.component.jsx","component/menu-container.component.jsx/menu-container.component.jsx","pages/Homepage/homepage.component.jsx","pages/userprofile/userprofile.pages.jsx","pages/userprofile/userprofile.container.jsx","component/userprofile/profileicon.component.jsx","component/header/header.component.jsx","redux/writings/writings.types.js","redux/writings/wirtings.action.js","pages/write/write.pages.jsx","redux/writings/writings.selector.js","component/writing-item/writing-item.component.jsx","component/writing-container/writing-container.component.jsx","pages/idolcollection/idol-collection.component.jsx","component/idol-collection/idol-collection.component.jsx","pages/idolcollection/idol-collection.container.jsx","pages/userCollection/user-collection.component.jsx","App.js","reportWebVitals.js","redux/idol/idol.data.js","redux/idol/idol.type.js","redux/idol/idol.reducer.js","redux/user/user.reducer.js","redux/writings/writings.reducer.js","redux/root-redux.js","redux/user/user.saga.js","redux/writings/writings.saga.js","redux/root-saga.js","redux/store.js","index.js"],"names":["UserActionTypes","signInFailure","err","type","payload","signUpSuccess","user","additionalData","selectUser","state","selectCurrentUser","createSelector","currentUser","selectUserError","error","selectUserFetching","isFetching","selectUserLoggedIn","isLoggedIn","SignUpPage","useState","displayName","email","kakaoId","password","confirmPassword","photoUrl","userCredential","setUserCredential","signUpError","useSelector","dispatch","useDispatch","history","useHistory","handleChange","event","target","name","value","useEffect","code","alert","handleSignupError","handleSubmit","e","a","preventDefault","setTimeout","push","className","onSubmit","onChange","placeholder","required","minLength","createUserProfileDocument","userAuth","userRef","firestore","doc","uid","get","exists","console","log","createAt","Date","set","changeUserImage","changeImage","id","update","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","facebookProvider","FacebookAuthProvider","storageRef","storage","ref","updateUserProfileImage","data","userStorage","child","put","SignInPage","loginInput","setLoginInput","signInError","hanldeUserError","handleGoogleSignIn","handleFacebookSignIn","signInWithPopup","htmlFor","to","onClick","WithSpinner","WrappedComponent","isLoading","otherProps","Spinner","style","width","height","children","resizeImage","settings","file","maxSize","image","Image","canvas","document","createElement","Promise","ok","no","onload","getContext","drawImage","toDataURL","resize","src","crossOrigin","MenuItem","linkUrl","imageUrl","title","backgroundImage","selectIdols","idol","sections","MenuAside","MenuContainer","map","HomePage","UserProfilePage","inputRef","useRef","handleChangeImage","files","response","getDownloadURL","fileUrl","then","resizedImage","newUser","catch","accept","alt","onLoad","img","imgTag","parentNode","widthDiff","clientWidth","offsetWidth","heightDiff","clientHeight","offsetHeight","transform","current","click","mapStateToProps","createStructuredSelector","UserProfileContainer","compose","connect","ProfileIcon","dropdownOpen","setDropdownOpen","userIconImage","setUserIconImage","Dropdown","isOpen","toggle","prevState","DropdownToggle","tag","DropdownMenu","DropdownItem","divider","Header","WritingActionTypes","fetchWritingStart","fetchWritingSuccess","fetchWritingFailure","deleteWritingStart","deleteWritingSuccess","deleteWritingFailure","addWritingStart","addWritingSuccess","addWritingFailure","writing","WritePage","imgRef","idolCollection","headText","mainText","text","setText","boardId","setBoardId","setFileUrl","thumbnailUrl","setThumbnailUrl","setIsLoading","nextId","getDate","dateObj","now","year","getFullYear","month","getMonth","day","userId","writingId","uuidv4","window","confirm","onChangeTextInput","onChangeFiles","theFile","match","fileRef","responce","url","encodeURIComponent","defaultValue","disabled","hidden","selectWriting","selectWritingFetching","selectCurentWriting","writings","selectFetchCount","fetchCount","WritingItem","slice","WritingContainer","IdolCollectionPage","length","filter","IdolCollection","useParams","IdolCollectionContainer","UserCollection","App","exact","path","render","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","idolData","IdolTypeActions","CHANGE_IMAGE_SIZE","idolReducer","action","INITIAL_STATE","userReducer","writingReducer","persistConfig","key","whitelist","rootReducer","combineReducers","persistReducer","getSnapshotFromUserAuth","signInwithGoogle","signInWithEmail","isUserAuthenticate","signOut","signUp","signInAfterSignUp","onGoogleSignInStart","onEmailSignInStart","onCheckUserSession","onSignOutStart","onSignUpStart","onSignUpSuccess","userSagas","call","userSnapshot","signInWithEmailAndPassword","resolve","reject","unsubcribe","onAuthStateChanged","signOutFailure","createUserWithEmailAndPassword","takeLatest","all","fetchWritingData","addWritings","deleteWriting","onAddWritings","onDeleteWritings","onfetchWritingData","writingSagas","collection","querySnapShot","forEach","sort","b","delete","rootSaga","sagaMiddleware","createSagaMiddleware","middlewares","logger","store","createStore","composeWithDevTools","applyMiddleware","run","persistor","persistStore","ReactDOM","StrictMode","getElementById"],"mappings":"8aAAaA,G,MACW,wBADXA,EAEU,sBAFVA,EAGM,kBAHNA,EAIM,kBAJNA,EAKS,qBALTA,EAMK,iBANLA,EAOO,mBAPPA,EAQO,mBARPA,EASI,gBATJA,EAUM,kBAVNA,EAWM,kBAXNA,EAaS,qBAbTA,EAcW,oCAdXA,EAeW,uBCCXC,EAAgB,SAACC,GAAD,MAAU,CACrCC,KAAMH,EACNI,QAASF,IAyBEG,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,eAAT,MAA+B,CAC1DJ,KAAMH,EACNI,QAAS,CAAEE,OAAMC,oB,gBC3CbC,EAAa,SAACC,GAAD,OAAWA,EAAMH,MAEvBI,EAAoBC,YAC/B,CAACH,IACD,SAACF,GAAD,OAAUA,EAAKM,eAGJC,EAAkBF,YAC7B,CAACH,IACD,SAACF,GAAD,OAAUA,EAAKQ,SAGJC,EAAqBJ,YAChC,CAACH,IACD,SAACF,GAAD,OAAUA,EAAKU,cAGJC,EAAqBN,YAChC,CAACH,IACD,SAACF,GAAD,OAAUA,EAAKY,c,OC0GFC,EAzHI,WACjB,MAA4CC,mBAAS,CACnDC,YAAa,GACbC,MAAO,GACPC,QAAS,GACTC,SAAU,GACVC,gBAAiB,GACjBC,SACE,+tFAPJ,mBAAOC,EAAP,KAAuBC,EAAvB,KASQP,EACNM,EADMN,YAAaC,EACnBK,EADmBL,MAAOE,EAC1BG,EAD0BH,SAAUD,EACpCI,EADoCJ,QAASE,EAC7CE,EAD6CF,gBAAiBC,EAC9DC,EAD8DD,SAE1DG,EAAcC,YAAYjB,GAC1BkB,EAAWC,cACXC,EAAUC,cACVC,EAAe,SAACC,GACpB,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAEdX,EAAkB,2BACbD,GADY,kBAEdW,EAAOC,MAYZC,qBAAU,YARgB,SAACX,GACrBA,GACuB,8BAArBA,EAAYY,MACdC,MAAM,8EAMVC,CAAkBd,KACjB,CAACA,IAEJ,IAAMe,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,yDACnBD,EAAEE,iBACEvB,IAAaC,EAFE,uBAGjBiB,MAAM,yHAHW,0BAMnBX,EFVqC,CACvC5B,KAAMH,EACNI,QESgB,CACVkB,QACAE,WACAH,cACAE,UACAE,kBACAC,cAGJsB,YAAW,WACJnB,IACHa,MAAM,6EACNT,EAAQgB,KAAK,QAEd,GArBgB,2CAAH,sDAwBlB,OACE,sBAAKC,UAAU,eAAf,UACE,qBAAIA,UAAU,gBAAd,kBAEE,mDAEF,uBAAMA,UAAU,aAAaC,SAAUP,EAAvC,UACE,0DACA,uBACEM,UAAU,gBACVZ,KAAK,cACLC,MAAOlB,EACPlB,KAAK,OACLiD,SAAUjB,EACVkB,YAAY,kCACZC,UAAQ,IAEV,uBACEJ,UAAU,gBACVZ,KAAK,QACLC,MAAOjB,EACPnB,KAAK,QACLiD,SAAUjB,EACVkB,YAAY,qBACZC,UAAQ,IAEV,uBACEJ,UAAU,gBACVZ,KAAK,WACLC,MAAOf,EACPrB,KAAK,WACLiD,SAAUjB,EACVkB,YAAY,2BACZC,UAAQ,EACRC,UAAU,MAEZ,uBACEL,UAAU,gBACVZ,KAAK,kBACLC,MAAOd,EACPtB,KAAK,WACLiD,SAAUjB,EACVkB,YAAY,8CACZC,UAAQ,EACRC,UAAU,MAEZ,uBACEL,UAAU,gBACVZ,KAAK,UACLC,MAAOhB,EACPpB,KAAK,OACLiD,SAAUjB,EACVkB,YAAY,8BACZC,UAAQ,IAEV,wBAAQJ,UAAU,aAAlB,6C,QC3GKM,G,oBAAyB,uCAAG,WAAOC,EAAUlD,GAAjB,qBAAAuC,EAAA,yDAClCW,EADkC,wDAIjCC,EAAUC,EAAUC,IAAV,gBAAuBH,EAASI,MAJT,SAKhBH,EAAQI,MALQ,iBAMzBC,OANyB,wBAOrCC,QAAQC,IAAIR,GACJpC,EAAuBoC,EAAvBpC,YAAaC,EAAUmC,EAAVnC,MACf4C,EAAW,IAAIC,KATgB,oBAY7BT,EAAQU,IAAR,aACJ/C,cACAC,QACA4C,YACG3D,IAhB8B,2DAmBnCyD,QAAQC,IAAR,MAnBmC,iCAuBhCP,GAvBgC,2DAAH,yDA0BzBW,EAAe,uCAAG,WAAO/D,EAAMgE,GAAb,eAAAxB,EAAA,yDACxBxC,EADwB,wDAIvBoD,EAAUC,EAAUC,IAAV,gBAAuBtD,EAAKiE,KAJf,SAKNb,EAAQI,MALF,6DAQnBJ,EAAQc,OAAR,2BACDlE,GADC,IAEJoB,SAAU4C,KAVa,0DAazBN,QAAQC,IAAR,MAbyB,0DAAH,wDA2B5BQ,IAASC,cA/Dc,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAyDV,IAAMC,EAAOT,IAASS,OAChBvB,EAAYc,IAASd,YAErBwB,EAAiB,IAAIV,IAASS,KAAKE,mBAChDD,EAAeE,oBAAoB,CAAEC,OAAQ,mBACtC,IAEDC,EAAmB,IAAId,IAASS,KAAKM,qBAC3CD,EAAiBF,oBAAoB,CAAEC,OAAQ,mBAEhCb,EAAf,EADO,IAIMgB,EADUhB,IAASiB,UACEC,MAErBC,EAAsB,uCAAG,WAAOtF,EAAMuF,GAAb,eAAA/C,EAAA,6DAC9BgD,EAAcL,EAAWM,MAAX,iBAA2BzF,EAAKiE,KADhB,SAEvBuB,EAAYE,IAAIH,GAFO,mFAAH,wD,QCqDpBI,G,MA5HI,WACjB,MAAoC7E,mBAAS,CAC3CE,MAAO,GACPE,SAAU,KAFZ,mBAAO0E,EAAP,KAAmBC,EAAnB,KAIQ7E,EAAoB4E,EAApB5E,MAAOE,EAAa0E,EAAb1E,SACT4E,EAActE,YAAYjB,GAC1BkB,EAAWC,cAiBXoB,EAAW,SAACP,GAChB,MAAwBA,EAAER,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACd4D,EAAc,2BACTD,GADQ,kBAEV5D,EAAOC,MAWZC,qBAAU,WAER,OAhCsB,SAAC4D,GACvB,GAAIA,EACF,OAAQA,EAAY3D,MAClB,IAAK,sBAEH,YADAC,MAAM,6EAER,IAAK,sBAEH,YADAA,MAAM,sDAER,WAsBJ2D,CAAgBD,GACT,WARPD,EAAc,CACZ7E,MAAO,GACPE,SAAU,QAOX,CAAC4E,IAEJ,IAAMjD,EAAQ,uCAAG,WAAON,GAAP,SAAAC,EAAA,sDACfD,EAAEE,iBACFhB,EJpDmD,CACrD5B,KAAMH,EACNI,QIkD4B,CAAEkB,QAAOE,cAFpB,2CAAH,sDAKR8E,EAAkB,uCAAG,sBAAAxD,EAAA,sDACzBf,EJ5DoC,CACtC5B,KAAMH,II0DqB,2CAAH,qDAIlBuG,EAAoB,uCAAG,sBAAAzD,EAAA,+EDYSoC,EAAKsB,gBAAgBjB,GCZ9B,sDAIzBvB,QAAQC,IAAR,MAJyB,wDAAH,qDAQ1B,OACE,qBAAKf,UAAU,eAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,0DACA,gCACE,mDADF,iPAIA,+GAEF,uBAAMA,UAAU,eAAeC,SAAUA,EAAzC,UACE,yCACA,uBAAOsD,QAAQ,QAAf,mBACA,uBACEtG,KAAK,QACLmC,KAAK,QACLC,MAAOjB,EACP8B,SAAUA,EACVC,YAAY,QACZkB,GAAG,UAEL,uBAAOkC,QAAQ,WAAf,sBACA,uBACEtG,KAAK,WACLmC,KAAK,WACLC,MAAOf,EACP4B,SAAUA,EACVC,YAAY,WACZkB,GAAG,aAGL,cAAC,IAAD,CAAMmC,GAAG,UAAUxD,UAAU,eAA7B,6EAIA,wBAAQ/C,KAAK,SAAS+C,UAAU,aAAhC,mBAIA,yBACE/C,KAAK,SACLwG,QAASL,EACTpD,UAAU,iBAHZ,UAKE,mBAAGA,UAAU,kBALf,uBASA,yBACE/C,KAAK,SACLwG,QAASJ,EACTrD,UAAU,mBAHZ,UAKE,mBAAGA,UAAU,2BALf,mC,yCCrGK0D,EAjBb,SAACC,GAAD,OACA,YAAmC,IAAhCC,EAA+B,EAA/BA,UAAcC,EAAiB,iBAChC,OACE,mCACGD,EACC,cAACE,EAAA,EAAD,CACEC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAChCjE,UAAU,UACVkE,SAAS,KAGX,cAACP,EAAD,eAAsBE,QCqBjBM,I,MApCK,SAACC,GACnB,IAAMC,EAAOD,EAASC,KAChBC,EAAUF,EAASE,QACnBC,EAAQ,IAAIC,MACZC,EAASC,SAASC,cAAc,UAuBtC,OAAO,IAAIC,SAAQ,SAACC,EAAIC,GACtBP,EAAMQ,OAAS,WACb,OAAOF,EAvBI,WACb,IAAIb,EAAQO,EAAMP,MACdC,EAASM,EAAMN,OAgBnB,OAfID,EAAQC,EACND,EAAQM,IACVL,GAAUK,EAAUN,EACpBA,EAAQM,GAGNL,EAASK,IACXN,GAASM,EAAUL,EACnBA,EAASK,GAGbG,EAAOT,MAAQA,EACfS,EAAOR,OAASA,EAChBQ,EAAOO,WAAW,MAAMC,UAAUV,EAAO,EAAG,EAAGP,EAAOC,GACtCQ,EAAOS,UAAU,cAMrBC,KAEZZ,EAAMa,IAAMf,EACZE,EAAMc,YAAc,iBCTTC,I,OAnBE,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACrC,OACE,mCACE,cAAC,IAAD,CAAMzF,UAAU,YAAYwD,GAAE,oBAAe+B,GAA7C,SACE,qBACExB,MAAO,CACL2B,gBAAgB,OAAD,OAASF,EAAT,MAEjBxF,UAAU,mBAJZ,SAME,qBAAKA,UAAU,UAAf,SACE,qBAAKA,UAAU,QAAf,SAAwByF,cCXvBE,GAAclI,YACzB,CAHiB,SAACF,GAAD,OAAWA,EAAMqI,QAIlC,SAACA,GAAD,OAAUA,EAAKC,YCaFC,I,cAjBG,WAChB,OACE,gCACE,qBAAI9F,UAAU,aAAd,UACE,uCACA,uCACA,sCACA,yCACA,4CACA,4CACA,uCACA,kD,UCQO+F,GAfO,WACpB,IAAMF,EAAWjH,YAAY+G,IAE7B,OACE,sBAAK3F,UAAU,iBAAf,UACE,qBAAKA,UAAU,aAAf,SACG6F,EAASG,KAAI,gBAAG3E,EAAH,EAAGA,GAAOwC,EAAV,yBACZ,cAAC,GAAD,eAAuBA,GAARxC,QAGnB,cAAC,GAAD,QCLS4E,GARE,WACf,OACE,mCACE,cAAC,GAAD,OCuFSC,GA9ES,WACtB,IAAMxI,EAAckB,YAAYpB,GACxBW,EAA0CT,EAA1CS,YAAaC,EAA6BV,EAA7BU,MAAOC,EAAsBX,EAAtBW,QAASG,EAAad,EAAbc,SAE/B2H,EAAWC,iBAAO,MAClBvH,EAAWC,cAcXuH,EAAiB,uCAAG,WAAO1G,GAAP,iBAAAC,EAAA,6DACxBf,EZkBmC,CACrC5B,KAAMH,IYpBoB,SAED4F,EACrBhF,EACAiC,EAAER,OAAOmH,MAAM,IAJO,cAElBC,EAFkB,gBAMFA,EAAS9D,IAAI+D,iBANX,OAMlBC,EANkB,OAYxBtC,GAJe,CACbE,KAAMoC,EACNnC,QAAS,MAGRoC,KADH,uCACQ,WAAOC,GAAP,eAAA/G,EAAA,sDACJuB,EAAgBzD,EAAaiJ,GACvBC,EAFF,2BAGClJ,GAHD,IAIFc,SAAUmI,IAEZ9H,EZIqC,CAC3C5B,KAAMH,EACNI,QYNkC0J,IANxB,2CADR,uDASGC,OAAM,SAAC7J,GACN8D,QAAQC,IAAI/D,MAtBQ,2CAAH,sDA0BvB,OACE,qBAAKgD,UAAU,oBAAf,SACGtC,EACC,qCACE,sBAAKsC,UAAU,cAAf,UACE,uBACE/C,KAAK,OACLwF,IAAK0D,EACLjG,SAAUmG,EACVS,OAAO,UACP1G,UAAQ,EACRJ,UAAU,eAEZ,qBACEoF,IAAK5G,EACLuI,IAAI,GACJC,OAvDS,SAACrH,GACpB,IAAMsH,EAAMtH,EAAER,OACR+H,EAASvH,EAAER,OAAOgI,WAClBC,GAAaH,EAAII,YAAcH,EAAOI,aAAe,EACrDC,GAAcN,EAAIO,aAAeN,EAAOO,cAAgB,EAC9DR,EAAIlD,MAAM2D,UAAV,sBAAqCN,EAArC,iBAAuDG,EAAvD,QAmDU9D,QAhDa,WACvB3C,QAAQC,IAAI,QACZoF,EAASwB,QAAQC,cAiDX,sBAAK5H,UAAU,YAAf,UACE,sBAAKA,UAAU,YAAf,4BAAiC7B,KACjC,sBAAK6B,UAAU,aAAf,kCAAmC5B,KACnC,sBAAK4B,UAAU,gBAAf,2DAA2C3B,WAI/C,cAAC,GAAD,O,SChFFwJ,GAAkBC,YAAyB,CAC/ClE,UAAW/F,IAQEkK,GALcC,mBAC3BC,YAAQJ,IACRnE,EAF2BsE,CAG3B9B,I,wCCoEagC,I,OAnEK,WAClB,MAAwChK,oBAAS,GAAjD,mBAAOiK,EAAP,KAAqBC,EAArB,KACA,EAA0ClK,mBAAS,IAAnD,mBAAOmK,EAAP,KAAsBC,EAAtB,KACMvJ,EAAUC,cACVH,EAAWC,cACXpB,EAAckB,YAAYpB,GACxBgB,EAAiBd,EAAjBc,SAAU6C,EAAO3D,EAAP2D,GAwClB,OAlBA/B,qBAAU,WACR,IAAM+G,EAAiB,uCAAG,WAAO1G,GAAP,SAAAC,EAAA,sDAKxBuE,GAJe,CACbE,KAAM7F,EACN8F,QAAS,MAGRoC,KADH,uCACQ,WAAOC,GAAP,SAAA/G,EAAA,sDACJkB,QAAQC,IAAI4F,GACZ2B,EAAiB3B,GAFb,2CADR,uDAKGE,OAAM,SAAC7J,GACN8D,QAAQC,IAAI/D,MAXQ,2CAAH,sDAcvBqJ,MACC,CAAC7H,IAGF,eAAC+J,GAAA,EAAD,CAAUC,OAAQL,EAAcM,OAzBnB,kBAAML,GAAgB,SAACM,GAAD,OAAgBA,MAyBnD,UACE,cAACC,GAAA,EAAD,CACEC,IAAI,MACJ,cAAY,WACZ,gBAAeT,EACfnI,UAAU,eAJZ,SAME,qBAAKoF,IAAKiD,EAAetB,IAAI,GAAGC,OA3CjB,SAACrH,GACpB,IAAMsH,EAAMtH,EAAER,OACR+H,EAASvH,EAAER,OAAOgI,WAClBC,GAAaH,EAAII,YAAcH,EAAOI,aAAe,EACrDC,GAAcN,EAAIO,aAAeN,EAAOO,cAAgB,EAC9DR,EAAIlD,MAAM2D,UAAV,sBAAqCN,EAArC,iBAAuDG,EAAvD,YAwCE,eAACsB,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAcrF,QAtCM,WACxB1E,EAAQgB,KAAK,aAqCT,6CACA,cAAC+I,GAAA,EAAD,CAAcC,SAAO,IACrB,cAACD,GAAA,EAAD,CAAcrF,QAnCI,WACtB1E,EAAQgB,KAAR,2BAAiCsB,KAkC7B,uCACA,cAACyH,GAAA,EAAD,CAAcC,SAAO,IACrB,cAACD,GAAA,EAAD,CAAcrF,QAtDO,WACzB5E,EdE+B,CACjC5B,KAAMH,KckDA,8CC5BOkM,I,OAtCA,WACb,IAAMtL,EAAckB,YAAYpB,GAC1BQ,EAAaY,YAAYb,GACzBgB,EAAUC,cAKhB,OACE,mCACE,sBAAKgB,UAAU,mBAAf,UACE,qBAAKA,UAAU,OAAOyD,QAPJ,WACtB1E,EAAQgB,KAAK,MAMT,0BAGA,sBAAKC,UAAU,iBAAf,UACGhC,EACC,cAAC,IAAD,CAAMgC,UAAU,eAAewD,GAAG,SAAlC,6CAGE,KAEJ,cAAC,IAAD,CAAMxD,UAAU,mBAAmBwD,GAAG,cAAtC,gEAGA,qBAAKxD,UAAU,kBAAf,uCACCtC,EACC,cAAC,GAAD,IAEA,cAAC,IAAD,CAAM8F,GAAG,UAAUxD,UAAU,cAA7B,0C,UC1BGiJ,I,cAZY,CACzBC,kBAAmB,oBACnBC,oBAAqB,sBACrBC,oBAAqB,sBACrBC,mBAAoB,qBACpBC,qBAAsB,uBACtBC,qBAAsB,uBACtBC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,kBAAmB,sBCPRR,GAAoB,iBAAO,CACtCjM,KAAMgM,GAAmBC,oBAadM,GAAkB,SAACG,EAAStI,GAAV,MAAkB,CAC/CpE,KAAMgM,GAAmBO,gBACzBtM,QAAS,CAAEyM,UAAStI,QC0MPuI,GA7MG,WAChB,IAAM7K,EAAUC,cACV6K,EAASzD,iBAAO,MAChBD,EAAWC,iBAAO,MAClBvH,EAAWC,cACXpB,EAAckB,YAAYpB,GAC1BsM,EAAiBlL,YAAY+G,IACnC,EAAwBzH,mBAAS,CAC/B6L,SAAU,GACVC,SAAU,KAFZ,mBAAOC,EAAP,KAAaC,EAAb,KAIA,EAA8BhM,mBAAS,IAAvC,mBAAOiM,EAAP,KAAgBC,EAAhB,KACA,EAA8BlM,mBAAS,IAAvC,mBAAOuI,EAAP,KAAgB4D,EAAhB,KACA,EAAwCnM,mBAAS,IAAjD,mBAAOoM,EAAP,KAAqBC,EAArB,KACA,EAAkCrM,oBAAS,GAA3C,mBAAO0F,EAAP,KAAkB4G,EAAlB,KACQT,EAAuBE,EAAvBF,SAAUC,EAAaC,EAAbD,SACZS,EAASrE,iBAAO,GAEhBsE,EAAU,WACd,IAAMC,EAAU,IAAI1J,KAMpB,MAAO,CACLD,SANeC,KAAK2J,MAOpBC,KANWF,EAAQG,cAOnBC,MANYJ,EAAQK,WAAa,EAOjCC,IANUN,EAAQD,YAUhBzK,EAAQ,uCAAG,WAAON,GAAP,yBAAAC,EAAA,yDACfD,EAAEE,iBAEGsK,EAHU,uBAIb3K,MAAM,iEAJO,4BAQwBkL,IAA/BO,EARO,EAQPA,IAAKjK,EARE,EAQFA,SAAU+J,EARR,EAQQA,MAAOF,EARf,EAQeA,KACxBlB,EAAU,CACduB,OAAQxN,EAAY2D,GACpB0I,WACAC,WACAhJ,WACAyF,UACA6D,eACAH,UACAgB,UAAWC,eACXH,MACAF,QACAF,QAGFhM,EAAS2K,GAAgBG,EAASA,EAAQwB,YAC1CV,EAAO9C,SAAW,EAClBuC,EAAQ,2BACHD,GADE,IAELF,SAAU,GACVC,SAAU,MAEZK,EAAW,IACXE,EAAgB,IAEhBzK,YAAW,WAEPuL,OAAOC,QACL,8KAGFvM,EAAQgB,KAAK,QAvCF,4CAAH,sDA8CRwL,EAAoB,SAAC5L,GACzB,IAAMP,EAAOO,EAAER,OAAOC,KACtB8K,EAAQ,2BACHD,GADE,kBAEJ7K,EAAOO,EAAER,OAAOE,UAIfmM,EAAa,uCAAG,WAAO7L,GAAP,qBAAAC,EAAA,yDACpB4K,GAAa,GACPiB,EAAU9L,EAAER,OAAOmH,MAAM,GAFX,oDAMfmF,EAAQxO,KAAKyO,MAAM,WANJ,wDASdC,EAAUpJ,EAAWM,MAAX,UAAoBnF,EAAY2D,GAAhC,YAAsC+J,iBATlC,SAUGO,EAAQ7I,IAAI2I,GAVf,cAUdG,EAVc,iBAWFA,EAASnJ,IAAI+D,iBAXX,QAWdqF,EAXc,OAgBpB1H,GAJwB,CACtBE,KAAMwH,EACNvH,QAAS,MAGRoC,MAAK,SAACC,GACL4D,EAAgB5D,MAEjBE,OAAM,SAAC7J,GAAD,OAAS8D,QAAQC,IAAI/D,MAM9BmH,GAJe,CACbE,KAAMwH,EACNvH,QAAS,MAGRoC,MAAK,SAACC,GACL0D,EAAW1D,MAEZE,OAAM,SAAC7J,GAAD,OAAS8D,QAAQC,IAAI/D,MA9BV,4CAAH,sDA6CnB,OACE,sBAAKgD,UAAU,kBAAf,UACE,uBAAMC,SAAUA,EAAUD,UAAU,cAApC,UACE,sBAAKA,UAAU,mBAAf,UACE,uBAAOuD,QAAQ,GAAf,2EACA,yBACEnE,KAAK,OACLiC,GAAG,oBACHnB,SAhBiB,SAACP,GAC1ByK,EAAW0B,mBAAmBnM,EAAER,OAAOE,SAgB/BW,UAAU,gBAJZ,UAME,wBAAQ+L,cAAY,EAACC,UAAQ,EAACC,QAAM,EAApC,kDAGCnC,EAAe9D,KAAI,gBAAG3E,EAAH,EAAGA,GAAIoE,EAAP,EAAOA,MAAP,OAClB,wBAAiBpG,MAAOoG,EAAxB,SACGA,GADUpE,YAOnB,uBACEpE,KAAK,OACLmC,KAAK,WACLY,UAAU,aACVX,MAAO0K,EACP5J,YAAY,eACZD,SAAUqL,IAEZ,0BACEtO,KAAK,OACLkD,YAAY,oDACZH,UAAU,aACVZ,KAAK,WACLC,MAAO2K,EACP9J,SAAUqL,IAEZ,uBACEtO,KAAK,OACL6J,OAAO,UACP5G,SAAUsL,EACVxL,UAAU,aACVyC,IAAK0D,IAEP,sBAAKnG,UAAU,gBAAf,UACE,gCACE,qEACA,qBACEoF,IAAKkF,EACLvD,IAAI,GACJtE,IAAKoH,EACL7C,OAhEa,WACvBwD,GAAa,SAkEN5G,GAAa,cAACE,EAAA,EAAD,OAEhB,yBAAQ9D,UAAU,iBAAlB,UACE,wBACE/C,KAAK,SACL+C,UAAU,WACVyD,QAjEmB,WAC3B0C,EAASwB,QAAQC,SA6DX,uCAOA,uBAAO3K,KAAK,SAAS+C,UAAU,aAAaX,MAAM,mCAGtD,cAAC,GAAD,CAAWW,UAAU,mBCrNrBkM,GAAgB,SAAC3O,GAAD,OAAWA,EAAMoM,SAE1BwC,GAAwB1O,YACnC,CAACyO,KACD,SAACvC,GAAD,OAAaA,EAAQ7L,cAGVsO,GAAsB3O,YACjC,CAACyO,KACD,SAACvC,GAAD,OAAaA,EAAQ0C,YAGVC,GAAmB7O,YAC9B,CAACyO,KACD,SAACvC,GAAD,OAAaA,EAAQ4C,cC6BRC,I,cAtCK,SAAC,GAAoB,IAAf7C,EAAc,oBAEpCI,EAQEJ,EARFI,SACAC,EAOEL,EAPFK,SACAM,EAMEX,EANFW,aACAS,EAKEpB,EALFoB,MACAF,EAIElB,EAJFkB,KACAI,EAGEtB,EAHFsB,IACAC,EAEEvB,EAFFuB,OACAC,EACExB,EADFwB,UAEIzN,EAAckB,YAAYpB,GAC1BqB,EAAWC,cAOjB,OACE,sBAAKkB,UAAU,eAAf,UACE,qBAAKA,UAAU,gBAAf,SACGsK,EAAe,qBAAKlF,IAAKkF,EAAcvD,IAAI,mBAAsB,OAEpE,sBAAK/G,UAAU,eAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+B+J,IAC/B,mBAAG/J,UAAU,eAAb,SAA6BgK,EAASyC,MAAM,EAAG,OAC/C,mBAAGzM,UAAU,qBAAb,8CAA6C6K,EAA7C,YAAqDE,EAArD,YAA8DE,QAE/DC,KAAM,OAAKxN,QAAL,IAAKA,OAAL,EAAKA,EAAa2D,IACvB,wBAAQpE,KAAK,SAASwG,QAjBN,WAChB4H,OAAOC,QAAQ,mEACjBzM,EHQqC,CACzC5B,KAAMgM,GAAmBI,mBACzBnM,QGVgCiO,KAeoBnL,UAAU,aAAxD,oBAGE,UCpBK0M,GAfU,SAAC,GAAiB,IAAfvC,EAAc,EAAdA,QACpBkC,EAAWzN,YAAYwN,IAE7B,OACE,qBAAKpM,UAAU,oBAAf,SACGqM,EAASrG,KAAI,SAAC2D,GACb,OAAKQ,GAAWA,IAAYR,EAAQQ,QAG7B,KAFE,cAAC,GAAD,eAAyCR,GAAvBA,EAAQwB,iBC4B5BwB,I,OA/BY,SAAC,GAAiB,IAAfxC,EAAc,EAAdA,QACtBtL,EAAWC,cACXuN,EAAWzN,YAAYwN,IACvBG,EAAa3N,YAAY0N,IAC/BhN,qBAAU,WACgB,IAApB+M,EAASO,SAGTL,GAAc,GAGlB1N,EAASqK,SACR,CAACrK,EAAUwN,EAASO,OAAQL,IAK/B,OACE,oCACIpC,GAJJkC,EAASQ,QAAO,SAAClD,GAAD,OAAaA,EAAQQ,UAAYA,KAASyC,OAKtD,cAAC,GAAD,CAAkBzC,QAASA,IAE3B,sBAAKnK,UAAU,wBAAf,UACE,iIACA,kHCxBK8M,GALQ,WACrB,IAAQzL,EAAO0L,cAAP1L,GACR,OAAO,cAAC,GAAD,CAAoB8I,QAAS2B,mBAAmBzK,MCCnDwG,GAAkBC,YAAyB,CAC/ClE,UAAWuI,KAQEa,GALiBhF,mBAC9BC,YAAQJ,IACRnE,EAF8BsE,CAG9B2E,ICkCaM,GAvCQ,WACrB,IAAQ/B,EAAW6B,cAAX7B,OACFmB,EAAWzN,YAAYwN,IACvBvN,EAAWC,cACXyN,EAAa3N,YAAY0N,IAgB/B,OAZAhN,qBAAU,WACRwB,QAAQC,IAAIsL,EAASO,QACrB9L,QAAQC,IAAIwL,GACZzL,QAAQC,IAAImI,IACY,IAApBmD,EAASO,SAGTL,GAAc,GAGlB1N,EAASqK,SACR,CAACrK,EAAUwN,EAASO,OAAQL,IAE7B,qBAAKvM,UAAU,4BAAf,SAfAqM,EAASQ,QAAO,SAAClD,GAAD,OAAaA,EAAQuB,SAAWA,KAAQ0B,OAiBpDP,EAASrG,KAAI,SAAC2D,GACZ,OAAIA,EAAQuB,SAAWA,EACd,cAAC,GAAD,eAAyCvB,GAAvBA,EAAQwB,WAE5B,QAGT,sBAAKnL,UAAU,wBAAf,UACE,iIACA,iHCcKkN,GAxCH,WACV,IAAMxP,EAAckB,YAAYpB,GAC1BqB,EAAWC,cACXC,EAAUC,cAMhB,OALAM,qBAAU,WACRP,EAAQgB,KAAK,KACblB,E1BAmC,CACrC5B,KAAMH,M0BAH,CAAC+B,EAAUE,IAGZ,qCACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOoO,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,cAAC,GAAD,OACpC,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,UAAUE,UAAWrP,IACvC,cAAC,IAAD,CACEkP,OAAK,EACLC,KAAK,UACLC,OAAQ,kBAAO3P,EAAc,cAAC,IAAD,CAAU8F,GAAG,MAAS,cAAC,EAAD,OAErD,cAAC,IAAD,CACE2J,OAAK,EACLC,KAAK,WACLC,OAAQ,kBAAO3P,EAAc,cAAC,GAAD,IAA2B,cAAC,GAAD,OAE1D,cAAC,IAAD,CAAOyP,OAAK,EAACC,KAAK,SAASE,UAAW1D,KACtC,cAAC,IAAD,CAAOuD,OAAK,EAACC,KAAK,cAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,2BAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,kBAAZ,SACE,cAAC,GAAD,aCpCKG,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB/G,MAAK,YAAkD,IAA/CgH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,0DCkDCO,GAzDE,CACflI,SAAU,CACR,CACEJ,MAAO,2BACPD,SACE,4EACFnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,8BAElC,CACErG,MAAO,2BACPD,SAAU,kDACVnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,8BAElC,CACErG,MAAO,OACPD,SAAU,0DACVnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,UAElC,CACErG,MAAO,2BACPD,SAAU,wDACVnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,8BAElC,CACErG,MAAO,2BACPD,SACE,gFACFnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,8BAElC,CACErG,MAAO,2BACPD,SACE,iFACFnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,8BAElC,CACErG,MAAO,qBACPD,SAAU,kDACVnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,wBAElC,CACErG,MAAO,2BACPD,SACE,iEACFnE,GAAI,EACJkE,QAAQ,IAAD,OAAMuG,mBAAmB,gCChDvBkC,GAJS,CACtBC,kBAAmB,qBCaNC,GAZK,WAA+B,IAA9B3Q,EAA6B,uDAArBwQ,GAAUI,EAAW,uCAChD,OAAQA,EAAOlR,OACR+Q,GAAgBC,kBACZ,2BACF1Q,GADL,IAEEiI,SAAU2I,EAAOjR,UAGZK,GCRP6Q,GAAgB,CACpB1Q,YAAa,KACbE,MAAO,KACPE,YAAY,EACZE,YAAY,GAyCCqQ,GAtCK,WAAoC,IAAnC9Q,EAAkC,uDAA1B6Q,GAAeD,EAAW,uCACrD,OAAQA,EAAOlR,MACb,KAAKH,EACL,KAAKA,EACH,OAAO,2BACFS,GADL,IAEEO,YAAY,IAEhB,KAAKhB,EACL,KAAKA,EACH,OAAO,2BACFS,GADL,IAEEG,YAAayQ,EAAOjR,QACpBU,MAAO,KACPE,YAAY,EACZE,YAAY,IAEhB,KAAKlB,EACH,OAAO,2BACFS,GADL,IAEEG,YAAa,KACbE,MAAO,KACPE,YAAY,EACZE,YAAY,IAEhB,KAAKlB,EACL,KAAKA,EACL,KAAKA,EACL,KAAKA,EACH,OAAO,2BACFS,GADL,IAEEK,MAAOuQ,EAAOjR,UAElB,QACE,OAAOK,ICzCP6Q,GAAgB,CACpBtQ,YAAY,EACZuO,SAAU,GACVzO,MAAO,KACP2O,WAAY,GAiCC+B,GA9BQ,WAAoC,IAAnC/Q,EAAkC,uDAA1B6Q,GAAeD,EAAW,uCACxD,OAAQA,EAAOlR,MACb,KAAKgM,GAAmBO,gBACxB,KAAKP,GAAmBI,mBACxB,KAAKJ,GAAmBC,kBACtB,OAAO,2BACF3L,GADL,IAEEO,YAAY,EACZF,MAAO,KACP2O,WAAYhP,EAAMgP,WAAa,IAEnC,KAAKtD,GAAmBE,oBACtB,OAAO,2BACF5L,GADL,IAEEO,YAAY,EACZuO,SAAU8B,EAAOjR,QACjBU,MAAO,OAEX,KAAKqL,GAAmBS,kBACxB,KAAKT,GAAmBM,qBACxB,KAAKN,GAAmBG,oBACtB,OAAO,2BACF7L,GADL,IAEEK,MAAOuQ,EAAOjR,UAElB,QACE,OAAOK,IC7BPgR,GAAgB,CACpBC,IAAK,OACLhM,aACAiM,UAAW,CAAC,SAGRC,GAAcC,2BAAgB,CAClCvR,KAAMiR,GACNzI,KAAMsI,GACNvE,QAAS2E,KAGIM,gBAAeL,GAAeG,I,+DCD5BG,I,YAmBAC,I,YASAC,I,YASAC,I,YAUAC,I,YASAC,I,YASAC,I,YAIAC,I,YAIAC,I,YAIAC,I,YAIAC,I,YAIAC,I,YAIAC,I,YAGAC,IA5FV,SAAUb,GAAwBtO,EAAUlD,GAA5C,yEAEa,OAFb,kBAEmBsS,aACpBrP,EACAC,EACAlD,GALC,OAOkB,OALfmD,EAFH,gBAOwBA,EAAQI,MAPhC,OAQH,OADMgP,EAPH,gBAQG9M,clCdoB1F,EkCeV,aACZiE,GAAIuO,EAAavO,IACduO,EAAajN,QlCjBgB,CACtC1F,KAAMH,EACNI,QAASE,KkCIJ,+BAeH,OAfG,oCAeG0F,aAAI/F,EAAc,EAAD,KAfpB,kClCNsB,IAACK,IkCMvB,kBAmBA,SAAU0R,KAAV,yEAEc,OAFd,kBAEoB9M,EAAKsB,gBAAgBrB,GAFzC,OAGH,OAHG,SAEK7E,EAFL,EAEKA,KAFL,SAGGyR,GAAwBzR,GAH3B,8BAKH,OALG,mCAKG0F,aAAI/F,EAAc,EAAD,KALpB,sDASA,SAAUgS,GAAV,kFAEc,OAFd,IAA4B7R,QAAWkB,EAAvC,EAAuCA,MAAOE,EAA9C,EAA8CA,SAA9C,kBAEoB0D,EAAK6N,2BAA2BzR,EAAOE,GAF3D,OAGH,OAHG,SAEKlB,EAFL,EAEKA,KAFL,SAGGyR,GAAwBzR,GAH3B,+BAKH,OALG,oCAKG0F,aAAI/F,EAAc,EAAD,KALpB,uDASA,SAAUiS,KAAV,uEAEc,OAFd,kB/BKE,IAAIpK,SAAQ,SAACkL,EAASC,GAC3B,IAAMC,EAAahO,EAAKiO,oBAAmB,SAAC1P,GAC1CyP,IACAF,EAAQvP,KACPwP,M+BTA,UAEGxP,EAFH,wDAIH,OAJG,SAIGsO,GAAwBtO,GAJ3B,+BAMH,OANG,oCAMGuC,aAAI/F,EAAc,EAAD,KANpB,uDAUA,SAAUkS,KAAV,iEAEH,OAFG,kBAEGjN,EAAKiN,UAFR,OAGH,OAHG,SAGGnM,alCtC2B,CACnC7F,KAAMH,IkCkCD,8BAKH,OALG,mCAKGgG,alCpC8B,CACtC7F,KAAMH,EACNI,akCkCYgT,IALP,sDASA,SAAUhB,GAAV,oFAEc,OAFd,IAAmBhS,QAAWkB,EAA9B,EAA8BA,MAAOE,EAArC,EAAqCA,SAAajB,EAAlD,oCAEoB2E,EAAKmO,+BAA+B/R,EAAOE,GAF/D,OAGH,OAHG,SAEKlB,EAFL,EAEKA,KAFL,SAGG0F,aAAI3F,EAAc,CAAEC,OAAMC,eAAe,eAAMA,MAHlD,+BAKH,OALG,oCAKGyF,clC9BoB9F,EkC8BF,EAAD,GlC9BY,CACrCC,KAAMH,EACNI,QAASF,KkCuBJ,kClCzBsB,IAACA,IkCyBvB,kBASA,SAAUmS,GAAV,8EACL,OADK,IAA8BjS,QAAWE,EAAzC,EAAyCA,KAAMC,EAA/C,EAA+CA,eAA/C,SACCwR,GAAwBzR,EAAMC,GAD/B,wCAIA,SAAU+R,KAAV,iEACL,OADK,SACCgB,aAAWtT,EAAsCgS,IADlD,wCAIA,SAAUO,KAAV,iEACL,OADK,SACCe,aAAWtT,EAAqCiS,IADjD,wCAIA,SAAUO,KAAV,iEACL,OADK,SACCc,aAAWtT,EAAoCkS,IADhD,wCAIA,SAAUO,KAAV,iEACL,OADK,SACCa,aAAWtT,EAAgCmS,IAD5C,wCAIA,SAAUO,KAAV,iEACL,OADK,SACCY,aAAWtT,EAA+BoS,IAD3C,wCAIA,SAAUO,KAAV,iEACL,OADK,SACCW,aAAWtT,EAAiCqS,IAD7C,wCAGA,SAAUO,KAAV,iEACL,OADK,SACCW,aAAI,CACRV,aAAKP,IACLO,aAAKN,IACLM,aAAKL,IACLK,aAAKJ,IACLI,aAAKH,IACLG,aAAKF,MAPF,wC,gBCnGUa,I,YAgBAC,I,YASAC,I,YASAC,I,YAIAC,I,YAIAC,I,YAIAC,IA9CV,SAAUN,KAAV,uEAGH,OAHG,SAEC3N,EAAO,GAFR,SAGGlC,EACHoQ,WAAW,YACXjQ,MACA8F,MAAK,SAACoK,GACLA,EAAcC,SAAQ,SAACrQ,GAAD,OAASiC,EAAK5C,KAAKW,EAAIiC,cAP9C,OAUH,OADAA,EAAOA,EAAKqO,MAAK,SAACpR,EAAGqR,GAAJ,OAAUrR,EAAEoB,SAAWiQ,EAAEjQ,YATvC,SAUG8B,alBdwC,CAChD7F,KAAMgM,GAAmBE,oBACzBjM,QkBYgCyF,IAV3B,8BAYH,OAZG,mCAYGG,clBX0B9F,EkBWF,EAAD,GlBXY,CAC3CC,KAAMgM,GAAmBG,oBACzBlM,QAASF,KkBHJ,kClBC4B,IAACA,IkBD7B,iBAgBA,SAAUuT,GAAV,8EAEH,OAFG,IAAwBrT,QAAWyM,EAAnC,EAAmCA,QAAStI,EAA5C,EAA4CA,GAA5C,kBAEGZ,EAAUoQ,WAAW,YAAYnQ,IAAIW,GAAIH,IAAIyI,GAFhD,OAGH,OAHG,SAGG2G,KAHH,8BAKH,OALG,mCAKGxN,clBNwB9F,EkBMF,EAAD,GlBNY,CACzCC,KAAMgM,GAAmBS,kBACzBxM,QAASF,KkBDJ,kClBD0B,IAACA,IkBC3B,iBASA,SAAUwT,GAAV,0EAEH,OAFsCnP,EAAnC,EAA0BnE,QAA1B,kBAEGuD,EAAUoQ,WAAW,YAAYnQ,IAAIW,GAAI6P,SAF5C,OAGH,OAHG,SAGGZ,KAHH,8BAKH,OALG,mCAKGxN,clBD2B9F,EkBCF,EAAD,GlBDY,CAC5CC,KAAMgM,GAAmBM,qBACzBrM,QAASF,KkBNJ,kClBI6B,IAACA,IkBJ9B,iBASA,SAAUyT,KAAV,iEACL,OADK,SACCL,aAAWnH,GAAmBO,gBAAiB+G,IADhD,wCAIA,SAAUG,KAAV,iEACL,OADK,SACCN,aAAWnH,GAAmBI,mBAAoBmH,IADnD,wCAIA,SAAUG,KAAV,iEACL,OADK,SACCP,aAAWnH,GAAmBC,kBAAmBoH,IADlD,wCAIA,SAAUM,KAAV,iEACL,OADK,SACCP,aAAI,CACRV,aAAKc,IACLd,aAAKe,IACLf,aAAKgB,MAJF,wC,gBCrDkBQ,IAAV,SAAUA,KAAV,iEACb,OADa,SACPd,aAAI,CAACV,aAAKD,IAAYC,aAAKiB,MADpB,wCCKf,IAAMQ,GAAiBC,eACjBC,GAAc,CAACC,KAAQH,IAEvBI,GAAQC,uBACZ/C,GACAgD,+BAAoBC,mBAAe,WAAf,EAAmBL,MAEzCF,GAAeQ,IAAIT,IACnB,IAAMU,GAAYC,aAAaN,I,OCN/BO,IAAS1E,OACP,cAAC,IAAM2E,WAAP,UACE,cAAC,IAAD,CAAUR,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,KAAD,CAAaK,UAAWA,GAAxB,SACE,cAAC,GAAD,YAMRnN,SAASuN,eAAe,SAM1B1E,M","file":"static/js/main.a48e24d2.chunk.js","sourcesContent":["export const UserActionTypes = {\r\n  GOOGLE_SIGN_IN_START: \"GOOGLE_SIGN_IN_START\",\r\n  EMAIL_SIGN_IN_START: \"EMAIL_SIGN_IN_START\",\r\n  SIGN_IN_SUCCESS: \"SIGN_IN_SUCCESS\",\r\n  SIGN_IN_FAILURE: \"SIGN_IN_FAILURE\",\r\n  CHECK_USER_SESSION: \"CHECK_USER_SESSION\",\r\n  SIGN_OUT_START: \"SIGN_OUT_START\",\r\n  SIGN_OUT_SUCCESS: \"SIGN_OUT_SUCCESS\",\r\n  SIGN_OUT_FAILURE: \"SIGN_OUT_FAILURE\",\r\n  SIGN_UP_START: \"SIGN_UP_START\",\r\n  SIGN_UP_SUCCESS: \"SIGN_UP_SUCCESS\",\r\n  SIGN_UP_FAILURE: \"SIGN_UP_FAILURE\",\r\n  CHANGE_USER_IMAGE: \"CHANGE_USER_IMAGE\",\r\n  REFRESH_USER_START: \"REFRESH_USER_START\",\r\n  REFRESH_USER_SUCCESS: \"REFRESH_USER_REFRESH_USER_SUCCESS\",\r\n  REFRESH_USER_FAILURE: \"REFRESH_USER_FAILURE\",\r\n};\r\n","import { UserActionTypes } from \"./user.types\";\r\n\r\nexport const googleSignInStart = () => ({\r\n  type: UserActionTypes.GOOGLE_SIGN_IN_START,\r\n});\r\n\r\nexport const emailSignInStart = (emailAndPassword) => ({\r\n  type: UserActionTypes.EMAIL_SIGN_IN_START,\r\n  payload: emailAndPassword,\r\n});\r\n\r\nexport const signInSuccess = (user) => ({\r\n  type: UserActionTypes.SIGN_IN_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nexport const signInFailure = (err) => ({\r\n  type: UserActionTypes.SIGN_IN_FAILURE,\r\n  payload: err,\r\n});\r\n\r\nexport const checkUserSession = () => ({\r\n  type: UserActionTypes.CHECK_USER_SESSION,\r\n});\r\n\r\nexport const signOutStart = () => ({\r\n  type: UserActionTypes.SIGN_OUT_START,\r\n});\r\n\r\nexport const signOutSuccess = () => ({\r\n  type: UserActionTypes.SIGN_OUT_SUCCESS,\r\n});\r\n\r\nexport const signOutFailure = (err) => ({\r\n  type: UserActionTypes.SIGN_OUT_FAILURE,\r\n  payload: err,\r\n});\r\n\r\nexport const signUpStart = (userObj) => ({\r\n  type: UserActionTypes.SIGN_UP_START,\r\n  payload: userObj,\r\n});\r\n\r\nexport const signUpSuccess = ({ user, additionalData }) => ({\r\n  type: UserActionTypes.SIGN_UP_SUCCESS,\r\n  payload: { user, additionalData },\r\n});\r\n\r\nexport const signUpFailure = (err) => ({\r\n  type: UserActionTypes.SIGN_UP_FAILURE,\r\n  payload: err,\r\n});\r\n\r\nexport const refreshUserStart = () => ({\r\n  type: UserActionTypes.REFRESH_USER_START,\r\n});\r\n\r\nexport const refreshUserSuccess = (user) => ({\r\n  type: UserActionTypes.REFRESH_USER_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nexport const refreshUserFailure = (err) => ({\r\n  type: UserActionTypes.REFRESH_USER_FAILURE,\r\n  payload: err,\r\n});\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst selectUser = (state) => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n  [selectUser],\r\n  (user) => user.currentUser\r\n);\r\n\r\nexport const selectUserError = createSelector(\r\n  [selectUser],\r\n  (user) => user.error\r\n);\r\n\r\nexport const selectUserFetching = createSelector(\r\n  [selectUser],\r\n  (user) => user.isFetching\r\n);\r\n\r\nexport const selectUserLoggedIn = createSelector(\r\n  [selectUser],\r\n  (user) => user.isLoggedIn\r\n);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./sign-up.styles.scss\";\r\nimport { signUpStart } from \"../../redux/user/user.action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { selectUserError } from \"../../redux/user/user.selector\";\r\nconst SignUpPage = () => {\r\n  const [userCredential, setUserCredential] = useState({\r\n    displayName: \"\",\r\n    email: \"\",\r\n    kakaoId: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    photoUrl:\r\n      \"data:image/png;base64,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\",\r\n  });\r\n  const { displayName, email, password, kakaoId, confirmPassword, photoUrl } =\r\n    userCredential;\r\n  const signUpError = useSelector(selectUserError);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setUserCredential({\r\n      ...userCredential,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSignupError = (signUpError) => {\r\n    if (signUpError) {\r\n      if (signUpError.code === \"auth/email-already-in-use\") {\r\n        alert(\"이미 존재하는 이메일입니다\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleSignupError(signUpError);\r\n  }, [signUpError]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      alert(\"비밀번호와 비밀번호 재확인이 맞지않습니다\");\r\n      return;\r\n    }\r\n    dispatch(\r\n      signUpStart({\r\n        email,\r\n        password,\r\n        displayName,\r\n        kakaoId,\r\n        confirmPassword,\r\n        photoUrl,\r\n      })\r\n    );\r\n    setTimeout(() => {\r\n      if (!signUpError) {\r\n        alert(\"회원가입이 완료되었습니다\");\r\n        history.push(\"/\");\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign-up-page\">\r\n      <h1 className=\"sign-up-title\">\r\n        Goods\r\n        <strong>&nbsp;Trader</strong>\r\n      </h1>\r\n      <form className=\"form-input\" onSubmit={handleSubmit}>\r\n        <h3>회원가입</h3>\r\n        <input\r\n          className=\"sign-up-input\"\r\n          name=\"displayName\"\r\n          value={displayName}\r\n          type=\"text\"\r\n          onChange={handleChange}\r\n          placeholder=\"사용자 이름\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"sign-up-input\"\r\n          name=\"email\"\r\n          value={email}\r\n          type=\"email\"\r\n          onChange={handleChange}\r\n          placeholder=\"이메일\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"sign-up-input\"\r\n          name=\"password\"\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={handleChange}\r\n          placeholder=\"비밀번호\"\r\n          required\r\n          minLength=\"6\"\r\n        />\r\n        <input\r\n          className=\"sign-up-input\"\r\n          name=\"confirmPassword\"\r\n          value={confirmPassword}\r\n          type=\"password\"\r\n          onChange={handleChange}\r\n          placeholder=\"비밀번호 재확인\"\r\n          required\r\n          minLength=\"6\"\r\n        />\r\n        <input\r\n          className=\"sign-up-input\"\r\n          name=\"kakaoId\"\r\n          value={kakaoId}\r\n          type=\"text\"\r\n          onChange={handleChange}\r\n          placeholder=\"카카오톡 id\"\r\n          required\r\n        />\r\n        <button className=\"submit-btn\">회원가입</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA4Yej4rm_6kEVYWOdhRIdOiDToCqiwOhI\",\r\n  authDomain: \"goods-traders.firebaseapp.com\",\r\n  projectId: \"goods-traders\",\r\n  storageBucket: \"goods-traders.appspot.com\",\r\n  messagingSenderId: \"815502497812\",\r\n  appId: \"1:815502497812:web:bbc98f3f170a2cb26c6f01\",\r\n  measurementId: \"G-4YKZM07Z92\",\r\n};\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n  if (!userAuth) {\r\n    return;\r\n  }\r\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n  const snapShot = await userRef.get();\r\n  if (!snapShot.exists) {\r\n    console.log(userAuth);\r\n    const { displayName, email } = userAuth;\r\n    const createAt = new Date();\r\n\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createAt,\r\n        ...additionalData,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  return userRef;\r\n};\r\n\r\nexport const changeUserImage = async (user, changeImage) => {\r\n  if (!user) {\r\n    return;\r\n  }\r\n  const userRef = firestore.doc(`users/${user.id}`);\r\n  const snapShot = await userRef.get();\r\n  if (snapShot) {\r\n    try {\r\n      await userRef.update({\r\n        ...user,\r\n        photoUrl: changeImage,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const unsubcribe = auth.onAuthStateChanged((userAuth) => {\r\n      unsubcribe();\r\n      resolve(userAuth);\r\n    }, reject);\r\n  });\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({ prompt: \"select_account\" });\r\nexport const signInwithGoogle = () => auth.signInWithPopup(googleProvider);\r\n\r\nconst facebookProvider = new firebase.auth.FacebookAuthProvider();\r\nfacebookProvider.setCustomParameters({ prompt: \"select_account\" });\r\nexport const signInWithFacebook = () => auth.signInWithPopup(facebookProvider);\r\nexport default firebase;\r\n\r\nexport const storage = firebase.storage();\r\nexport const storageRef = storage.ref();\r\n\r\nexport const updateUserProfileImage = async (user, data) => {\r\n  const userStorage = storageRef.child(`images/${user.id}`);\r\n  return await userStorage.put(data);\r\n};\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { signInWithFacebook } from \"../../firebase/firebase.utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./sign-in.styles.scss\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectUserError } from \"../../redux/user/user.selector\";\r\nimport {\r\n  emailSignInStart,\r\n  googleSignInStart,\r\n} from \"../../redux/user/user.action\";\r\nconst SignInPage = () => {\r\n  const [loginInput, setLoginInput] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const { email, password } = loginInput;\r\n  const signInError = useSelector(selectUserError);\r\n  const dispatch = useDispatch();\r\n\r\n  const hanldeUserError = (signInError) => {\r\n    if (signInError) {\r\n      switch (signInError.code) {\r\n        case \"auth/wrong-password\":\r\n          alert(\"비밀번호가 잘못되었습니다\");\r\n          return;\r\n        case \"auth/user-not-found\":\r\n          alert(\"없는 이메일 입니다\");\r\n          return;\r\n        default:\r\n          return;\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setLoginInput({\r\n      ...loginInput,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const AfterLogin = () => {\r\n    setLoginInput({\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    hanldeUserError(signInError);\r\n    return () => AfterLogin();\r\n  }, [signInError]);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(emailSignInStart({ email, password }));\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    dispatch(googleSignInStart());\r\n  };\r\n\r\n  const handleFacebookSignIn = async () => {\r\n    try {\r\n      await signInWithFacebook();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"sign-in-page\">\r\n      <div className=\"sign-in-container\">\r\n        <div className=\"sign-in-detail\">\r\n          <h2>Welcome to Goods traders</h2>\r\n          <div>\r\n            <strong>Goods traders</strong>는 각종 아이돌 포토카드, 맞지 않는\r\n            신발 사이즈의 교환을 목적으로 만들어진 사이트입니다.\r\n          </div>\r\n          <p>홈페이지 관련 문의 : hwangstar156@gmail.com</p>\r\n        </div>\r\n        <form className=\"sign-in-form\" onSubmit={onSubmit}>\r\n          <h2>Sign In</h2>\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={onChange}\r\n            placeholder=\"email\"\r\n            id=\"email\"\r\n          />\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={onChange}\r\n            placeholder=\"password\"\r\n            id=\"password\"\r\n          />\r\n\r\n          <Link to=\"/signup\" className=\"sign-up-link\">\r\n            아직 계정이 없으신가요?\r\n          </Link>\r\n\r\n          <button type=\"submit\" className=\"submit-btn\">\r\n            Login\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleGoogleSignIn}\r\n            className=\"google-btn btn\"\r\n          >\r\n            <i className=\"fab fa-google\"></i>\r\n            Login with Google\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleFacebookSignIn}\r\n            className=\"facebook-btn btn\"\r\n          >\r\n            <i className=\"fab fa-facebook-square\"></i>\r\n            Login with Facebook\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInPage;\r\n","import React from \"react\";\r\nimport { Spinner } from \"reactstrap\";\r\nimport \"./withSpinner.styles.scss\";\r\nconst WithSpinner =\r\n  (WrappedComponent) =>\r\n  ({ isLoading, ...otherProps }) => {\r\n    return (\r\n      <>\r\n        {isLoading ? (\r\n          <Spinner\r\n            style={{ width: \"6rem\", height: \"6rem\" }}\r\n            className=\"spinner\"\r\n            children=\"\"\r\n          />\r\n        ) : (\r\n          <WrappedComponent {...otherProps} />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\nexport default WithSpinner;\r\n","const resizeImage = (settings) => {\r\n  const file = settings.file;\r\n  const maxSize = settings.maxSize;\r\n  const image = new Image();\r\n  const canvas = document.createElement(\"canvas\");\r\n\r\n  const resize = () => {\r\n    let width = image.width;\r\n    let height = image.height;\r\n    if (width > height) {\r\n      if (width > maxSize) {\r\n        height *= maxSize / width;\r\n        width = maxSize;\r\n      }\r\n    } else {\r\n      if (height > maxSize) {\r\n        width *= maxSize / height;\r\n        height = maxSize;\r\n      }\r\n    }\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\r\n    const dataUrl = canvas.toDataURL(\"image/jpeg\");\r\n    return dataUrl;\r\n  };\r\n\r\n  return new Promise((ok, no) => {\r\n    image.onload = () => {\r\n      return ok(resize());\r\n    };\r\n    image.src = file;\r\n    image.crossOrigin = \"Anonymous\";\r\n  });\r\n};\r\n\r\nexport default resizeImage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./menu-item.styles.scss\";\r\nconst MenuItem = ({ linkUrl, imageUrl, title }) => {\r\n  return (\r\n    <>\r\n      <Link className=\"menu-item\" to={`collection${linkUrl}`}>\r\n        <div\r\n          style={{\r\n            backgroundImage: `url(${imageUrl})`,\r\n          }}\r\n          className=\"background-image\"\r\n        >\r\n          <div className=\"content\">\r\n            <div className=\"title\">{title}</div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst selectIdol = (state) => state.idol;\r\n\r\nexport const selectIdols = createSelector(\r\n  [selectIdol],\r\n  (idol) => idol.sections\r\n);\r\n","import React from \"react\";\r\nimport \"./menu-aside.styles.scss\";\r\nconst MenuAside = () => {\r\n  return (\r\n    <aside>\r\n      <ul className=\"menu-aside\">\r\n        <li>Izone</li>\r\n        <li>Twice</li>\r\n        <li>Itzy</li>\r\n        <li>Lovelyz</li>\r\n        <li>Oh my girl</li>\r\n        <li>Red Velvet</li>\r\n        <li>Aespa</li>\r\n        <li>BlackPink</li>\r\n      </ul>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default MenuAside;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport MenuItem from \"../menu-item/menu-item.component\";\r\nimport { selectIdols } from \"../../redux/idol/idol.selector\";\r\nimport \"./menu-container.styles.scss\";\r\nimport MenuAside from \"../menu-aside/menu-aside.component\";\r\nconst MenuContainer = () => {\r\n  const sections = useSelector(selectIdols);\r\n\r\n  return (\r\n    <div className=\"menu-container\">\r\n      <div className=\"menu-items\">\r\n        {sections.map(({ id, ...otherProps }) => (\r\n          <MenuItem key={id} {...otherProps} />\r\n        ))}\r\n      </div>\r\n      <MenuAside />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuContainer;\r\n","import React from \"react\";\r\nimport MenuContainer from \"../../component/menu-container.component.jsx/menu-container.component\";\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <>\r\n      <MenuContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selector\";\r\nimport \"./userprofile.styles.scss\";\r\nimport {\r\n  changeUserImage,\r\n  updateUserProfileImage,\r\n} from \"../../firebase/firebase.utils\";\r\nimport resizeImage from \"./userprofile.utils\";\r\nimport { useRef } from \"react\";\r\nimport {\r\n  refreshUserStart,\r\n  refreshUserSuccess,\r\n} from \"../../redux/user/user.action\";\r\nimport HomePage from \"../Homepage/homepage.component\";\r\nconst UserProfilePage = () => {\r\n  const currentUser = useSelector(selectCurrentUser);\r\n  const { displayName, email, kakaoId, photoUrl } = currentUser;\r\n\r\n  const inputRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const LoadingImage = (e) => {\r\n    const img = e.target;\r\n    const imgTag = e.target.parentNode;\r\n    const widthDiff = (img.clientWidth - imgTag.offsetWidth) / 2;\r\n    const heightDiff = (img.clientHeight - imgTag.offsetHeight) / 2;\r\n    img.style.transform = `translate( -${widthDiff}px , -${heightDiff}px)`;\r\n  };\r\n\r\n  const ChangeImageClick = () => {\r\n    console.log(\"load\");\r\n    inputRef.current.click();\r\n  };\r\n\r\n  const handleChangeImage = async (e) => {\r\n    dispatch(refreshUserStart());\r\n    const response = await updateUserProfileImage(\r\n      currentUser,\r\n      e.target.files[0]\r\n    );\r\n    const fileUrl = await response.ref.getDownloadURL();\r\n\r\n    const config = {\r\n      file: fileUrl,\r\n      maxSize: 512,\r\n    };\r\n    resizeImage(config)\r\n      .then(async (resizedImage) => {\r\n        changeUserImage(currentUser, resizedImage);\r\n        const newUser = {\r\n          ...currentUser,\r\n          photoUrl: resizedImage,\r\n        };\r\n        dispatch(refreshUserSuccess(newUser));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      {currentUser ? (\r\n        <>\r\n          <div className=\"profile-img\">\r\n            <input\r\n              type=\"file\"\r\n              ref={inputRef}\r\n              onChange={handleChangeImage}\r\n              accept=\"image/*\"\r\n              required\r\n              className=\"real-input\"\r\n            />\r\n            <img\r\n              src={photoUrl}\r\n              alt=\"\"\r\n              onLoad={LoadingImage}\r\n              onClick={ChangeImageClick}\r\n            />\r\n          </div>\r\n          <div className=\"user-info\">\r\n            <div className=\"user name\">이름 : {displayName}</div>\r\n            <div className=\"user email\">이메일 : {email}</div>\r\n            <div className=\"user kakao-id\">카카오톡 아이디 : {kakaoId}</div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <HomePage />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage;\r\n","import WithSpinner from \"../../component/with-spinner/withSpinner.component\";\r\nimport UserProfilePage from \"./userprofile.pages\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { selectUserFetching } from \"../../redux/user/user.selector\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isLoading: selectUserFetching,\r\n});\r\n\r\nconst UserProfileContainer = compose(\r\n  connect(mapStateToProps),\r\n  WithSpinner\r\n)(UserProfilePage);\r\n\r\nexport default UserProfileContainer;\r\n","import React from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from \"reactstrap\";\r\nimport { useState } from \"react\";\r\nimport \"./profileicon.styles.scss\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selector\";\r\nimport resizeImage from \"../../pages/userprofile/userprofile.utils\";\r\nimport { signOutStart } from \"../../redux/user/user.action\";\r\nconst ProfileIcon = () => {\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const [userIconImage, setUserIconImage] = useState(\"\");\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const currentUser = useSelector(selectCurrentUser);\r\n  const { photoUrl, id } = currentUser;\r\n  const handleSignOutClick = () => {\r\n    dispatch(signOutStart());\r\n  };\r\n\r\n  const LoadingImage = (e) => {\r\n    const img = e.target;\r\n    const imgTag = e.target.parentNode;\r\n    const widthDiff = (img.clientWidth - imgTag.offsetWidth) / 2;\r\n    const heightDiff = (img.clientHeight - imgTag.offsetHeight) / 2;\r\n    img.style.transform = `translate( -${widthDiff}px , -${heightDiff}px)`;\r\n  };\r\n\r\n  const moveToProfilePage = () => {\r\n    history.push(\"/profile\");\r\n  };\r\n  const toggle = () => setDropdownOpen((prevState) => !prevState);\r\n\r\n  const checkmyWritings = () => {\r\n    history.push(`/collection/user/${id}`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleChangeImage = async (e) => {\r\n      const config = {\r\n        file: photoUrl,\r\n        maxSize: 150,\r\n      };\r\n      resizeImage(config)\r\n        .then(async (resizedImage) => {\r\n          console.log(resizedImage);\r\n          setUserIconImage(resizedImage);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    handleChangeImage();\r\n  }, [photoUrl]);\r\n\r\n  return (\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n      <DropdownToggle\r\n        tag=\"div\"\r\n        data-toggle=\"dropdown\"\r\n        aria-expanded={dropdownOpen}\r\n        className=\"user-profile\"\r\n      >\r\n        <img src={userIconImage} alt=\"\" onLoad={LoadingImage} />\r\n      </DropdownToggle>\r\n      <DropdownMenu>\r\n        <DropdownItem onClick={moveToProfilePage}>마이 프로필</DropdownItem>\r\n        <DropdownItem divider />\r\n        <DropdownItem onClick={checkmyWritings}>내 작성물</DropdownItem>\r\n        <DropdownItem divider />\r\n        <DropdownItem onClick={handleSignOutClick}>로그아웃</DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nexport default ProfileIcon;\r\n","import React from \"react\";\r\nimport ProfileIcon from \"../userprofile/profileicon.component\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./header.styles.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  selectCurrentUser,\r\n  selectUserLoggedIn,\r\n} from \"../../redux/user/user.selector\";\r\n\r\nconst Header = () => {\r\n  const currentUser = useSelector(selectCurrentUser);\r\n  const isLoggedIn = useSelector(selectUserLoggedIn);\r\n  const history = useHistory();\r\n  const handleLogoClick = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"header-container\">\r\n        <div className=\"logo\" onClick={handleLogoClick}>\r\n          Goods Trader\r\n        </div>\r\n        <div className=\"header-element\">\r\n          {isLoggedIn ? (\r\n            <Link className=\"header-write\" to=\"/write\">\r\n              📝 글쓰기\r\n            </Link>\r\n          ) : null}\r\n\r\n          <Link className=\"header-photocard\" to=\"/collection\">\r\n            🗳 전체 포토카드\r\n          </Link>\r\n          <div className=\"header-sneakers\">👟 신발</div>\r\n          {currentUser ? (\r\n            <ProfileIcon />\r\n          ) : (\r\n            <Link to=\"/signin\" className=\"sign-in-btn\">\r\n              로그인\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","const WritingActionTypes = {\r\n  fetchWritingStart: \"fetchWritingStart\",\r\n  fetchWritingSuccess: \"fetchWritingSuccess\",\r\n  fetchWritingFailure: \"fetchWritingFailure\",\r\n  deleteWritingStart: \"deleteWritingStart\",\r\n  deleteWritingSuccess: \"deleteWritingSuccess\",\r\n  deleteWritingFailure: \"deleteWritingFailure\",\r\n  addWritingStart: \"addWritingStart\",\r\n  addWritingSuccess: \"addWritingSuccess\",\r\n  addWritingFailure: \"addWritingFailure\",\r\n};\r\n\r\nexport default WritingActionTypes;\r\n","import WritingActionTypes from \"./writings.types\";\r\n\r\nexport const fetchWritingStart = () => ({\r\n  type: WritingActionTypes.fetchWritingStart,\r\n});\r\n\r\nexport const fetchWritingSuccess = (writings) => ({\r\n  type: WritingActionTypes.fetchWritingSuccess,\r\n  payload: writings,\r\n});\r\n\r\nexport const fetchWritingFailure = (err) => ({\r\n  type: WritingActionTypes.fetchWritingFailure,\r\n  payload: err,\r\n});\r\n\r\nexport const addWritingStart = (writing, id) => ({\r\n  type: WritingActionTypes.addWritingStart,\r\n  payload: { writing, id },\r\n});\r\n\r\nexport const addWritingSuccess = () => ({\r\n  type: WritingActionTypes.addWritingSuccess,\r\n});\r\n\r\nexport const addWritingFailure = (err) => ({\r\n  type: WritingActionTypes.addWritingFailure,\r\n  payload: err,\r\n});\r\n\r\nexport const deleteWritingStart = (id) => ({\r\n  type: WritingActionTypes.deleteWritingStart,\r\n  payload: id,\r\n});\r\n\r\nexport const deleteWritingSuccess = () => ({\r\n  type: WritingActionTypes.deleteWritingSuccess,\r\n});\r\n\r\nexport const deleteWritingFailure = (err) => ({\r\n  type: WritingActionTypes.deleteWritingFailure,\r\n  payload: err,\r\n});\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { storageRef } from \"../../firebase/firebase.utils\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selector\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useRef } from \"react\";\r\nimport MenuAside from \"../../component/menu-aside/menu-aside.component\";\r\nimport \"github-markdown-css\";\r\nimport \"./write.styles.scss\";\r\nimport { selectIdols } from \"../../redux/idol/idol.selector\";\r\nimport resizeImage from \"../userprofile/userprofile.utils\";\r\nimport { useHistory } from \"react-router\";\r\nimport { addWritingStart } from \"../../redux/writings/wirtings.action\";\r\nimport { Spinner } from \"reactstrap\";\r\nconst WritePage = () => {\r\n  const history = useHistory();\r\n  const imgRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const currentUser = useSelector(selectCurrentUser);\r\n  const idolCollection = useSelector(selectIdols);\r\n  const [text, setText] = useState({\r\n    headText: \"\",\r\n    mainText: \"\",\r\n  });\r\n  const [boardId, setBoardId] = useState(\"\");\r\n  const [fileUrl, setFileUrl] = useState(\"\");\r\n  const [thumbnailUrl, setThumbnailUrl] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { headText, mainText } = text;\r\n  const nextId = useRef(0);\r\n\r\n  const getDate = () => {\r\n    const dateObj = new Date();\r\n    const createAt = Date.now();\r\n    const year = dateObj.getFullYear();\r\n    const month = dateObj.getMonth() + 1;\r\n    const day = dateObj.getDate();\r\n\r\n    return {\r\n      createAt,\r\n      year,\r\n      month,\r\n      day,\r\n    };\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!boardId) {\r\n      alert(\"게시판을 선택해주세요\");\r\n      return;\r\n    }\r\n\r\n    const { day, createAt, month, year } = getDate();\r\n    const writing = {\r\n      userId: currentUser.id,\r\n      headText,\r\n      mainText,\r\n      createAt,\r\n      fileUrl,\r\n      thumbnailUrl,\r\n      boardId,\r\n      writingId: uuidv4(),\r\n      day,\r\n      month,\r\n      year,\r\n    };\r\n\r\n    dispatch(addWritingStart(writing, writing.writingId));\r\n    nextId.current += 1;\r\n    setText({\r\n      ...text,\r\n      headText: \"\",\r\n      mainText: \"\",\r\n    });\r\n    setFileUrl(\"\");\r\n    setThumbnailUrl(\"\");\r\n\r\n    setTimeout(() => {\r\n      if (\r\n        window.confirm(\r\n          \"글이 성공적으로 등록되었습니다. 홈 화면으로 돌아가시겠습니까?\"\r\n        )\r\n      ) {\r\n        history.push(\"/\");\r\n      } else {\r\n        return;\r\n      }\r\n    });\r\n  };\r\n\r\n  const onChangeTextInput = (e) => {\r\n    const name = e.target.name;\r\n    setText({\r\n      ...text,\r\n      [name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onChangeFiles = async (e) => {\r\n    setIsLoading(true);\r\n    const theFile = e.target.files[0];\r\n    if (!theFile) {\r\n      return;\r\n    }\r\n    if (!theFile.type.match(/image.*/)) {\r\n      return;\r\n    }\r\n    const fileRef = storageRef.child(`${currentUser.id}/${uuidv4()}`);\r\n    const responce = await fileRef.put(theFile);\r\n    const url = await responce.ref.getDownloadURL();\r\n    const thumbnailConfig = {\r\n      file: url,\r\n      maxSize: 200,\r\n    };\r\n    resizeImage(thumbnailConfig)\r\n      .then((resizedImage) => {\r\n        setThumbnailUrl(resizedImage);\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    const config = {\r\n      file: url,\r\n      maxSize: 524,\r\n    };\r\n    resizeImage(config)\r\n      .then((resizedImage) => {\r\n        setFileUrl(resizedImage);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleImgLoading = () => {\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const onChangeSelectIdol = (e) => {\r\n    setBoardId(encodeURIComponent(e.target.value));\r\n  };\r\n\r\n  const onClickRealFileInput = () => {\r\n    inputRef.current.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"write-container\">\r\n      <form onSubmit={onSubmit} className=\"inputs-form\">\r\n        <div className=\"select-container\">\r\n          <label htmlFor=\"\">게시판을 선택해주세요</label>\r\n          <select\r\n            name=\"idol\"\r\n            id=\"select-collection\"\r\n            onChange={onChangeSelectIdol}\r\n            className=\"idol-selector\"\r\n          >\r\n            <option defaultValue disabled hidden>\r\n              선택해주세요\r\n            </option>\r\n            {idolCollection.map(({ id, title }) => (\r\n              <option key={id} value={title}>\r\n                {title}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"headText\"\r\n          className=\"head-input\"\r\n          value={headText}\r\n          placeholder=\"제목\"\r\n          onChange={onChangeTextInput}\r\n        />\r\n        <textarea\r\n          type=\"text\"\r\n          placeholder=\"글을 작성해보세요\"\r\n          className=\"main-input\"\r\n          name=\"mainText\"\r\n          value={mainText}\r\n          onChange={onChangeTextInput}\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={onChangeFiles}\r\n          className=\"file-input\"\r\n          ref={inputRef}\r\n        />\r\n        <div className=\"image-preview\">\r\n          <div>\r\n            <p>📂미리보기</p>\r\n            <img\r\n              src={thumbnailUrl}\r\n              alt=\"\"\r\n              ref={imgRef}\r\n              onLoad={handleImgLoading}\r\n            />\r\n          </div>\r\n          {isLoading && <Spinner />}\r\n        </div>\r\n        <footer className=\"footer-element\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"file-btn\"\r\n            onClick={onClickRealFileInput}\r\n          >\r\n            사진 등록\r\n          </button>\r\n          <input type=\"submit\" className=\"submit-btn\" value=\"등록하기\" />\r\n        </footer>\r\n      </form>\r\n      <MenuAside className=\"menu-aside\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WritePage;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst selectWriting = (state) => state.writing;\r\n\r\nexport const selectWritingFetching = createSelector(\r\n  [selectWriting],\r\n  (writing) => writing.isFetching\r\n);\r\n\r\nexport const selectCurentWriting = createSelector(\r\n  [selectWriting],\r\n  (writing) => writing.writings\r\n);\r\n\r\nexport const selectFetchCount = createSelector(\r\n  [selectWriting],\r\n  (writing) => writing.fetchCount\r\n);\r\n","import React from \"react\";\r\nimport \"./writing-item.styles.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selector.js\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteWritingStart } from \"../../redux/writings/wirtings.action\";\r\n\r\nconst WritingItem = ({ ...writing }) => {\r\n  const {\r\n    headText,\r\n    mainText,\r\n    thumbnailUrl,\r\n    month,\r\n    year,\r\n    day,\r\n    userId,\r\n    writingId,\r\n  } = writing;\r\n  const currentUser = useSelector(selectCurrentUser);\r\n  const dispatch = useDispatch();\r\n  const deleteWriting = () => {\r\n    if (window.confirm(\"정말 삭제하시겠습니까?\")) {\r\n      dispatch(deleteWritingStart(writingId));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"writing-card\">\r\n      <div className=\"writing-image\">\r\n        {thumbnailUrl ? <img src={thumbnailUrl} alt=\"thumbnailimage\" /> : null}\r\n      </div>\r\n      <div className=\"writing-info\">\r\n        <h3 className=\"writing-title\">{headText}</h3>\r\n        <p className=\"writing-text\">{mainText.slice(0, 100)}</p>\r\n        <p className=\"writing-created-at\">{`작성일자 : ${year}/${month}/${day}`}</p>\r\n      </div>\r\n      {userId === currentUser?.id ? (\r\n        <button type=\"button\" onClick={deleteWriting} className=\"delete-btn\">\r\n          Delete\r\n        </button>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WritingItem;\r\n","import React from \"react\";\r\nimport \"./writing-container.styles.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectCurentWriting } from \"../../redux/writings/writings.selector\";\r\nimport WritingItem from \"../writing-item/writing-item.component\";\r\nconst WritingContainer = ({ boardId }) => {\r\n  const writings = useSelector(selectCurentWriting);\r\n\r\n  return (\r\n    <div className=\"writing-container\">\r\n      {writings.map((writing) => {\r\n        if (!boardId || boardId === writing.boardId) {\r\n          return <WritingItem key={writing.writingId} {...writing} />;\r\n        }\r\n        return null;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WritingContainer;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchWritingStart } from \"../../redux/writings/wirtings.action\";\r\nimport {\r\n  selectCurentWriting,\r\n  selectFetchCount,\r\n} from \"../../redux/writings/writings.selector\";\r\nimport WritingContainer from \"../../component/writing-container/writing-container.component\";\r\nimport \"./idol-collection.styles.scss\";\r\nconst IdolCollectionPage = ({ boardId }) => {\r\n  const dispatch = useDispatch();\r\n  const writings = useSelector(selectCurentWriting);\r\n  const fetchCount = useSelector(selectFetchCount);\r\n  useEffect(() => {\r\n    if (writings.length !== 0) {\r\n      return;\r\n    }\r\n    if (fetchCount >= 1) {\r\n      return;\r\n    }\r\n    dispatch(fetchWritingStart());\r\n  }, [dispatch, writings.length, fetchCount]);\r\n\r\n  const isEmptyCollection = () =>\r\n    writings.filter((writing) => writing.boardId === boardId).length;\r\n\r\n  return (\r\n    <>\r\n      {!boardId || isEmptyCollection() ? (\r\n        <WritingContainer boardId={boardId} />\r\n      ) : (\r\n        <div className=\"empty-collection-page\">\r\n          <p>😅 아직 올라온 게시물이 없습니다;;</p>\r\n          <span>최초로 글을 등록해 보세요!!</span>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IdolCollectionPage;\r\n","import React from \"react\";\r\nimport IdolCollectionPage from \"../../pages/idolcollection/idol-collection.component\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst IdolCollection = () => {\r\n  const { id } = useParams();\r\n  return <IdolCollectionPage boardId={encodeURIComponent(id)} />;\r\n};\r\n\r\nexport default IdolCollection;\r\n","import WithSpinner from \"../../component/with-spinner/withSpinner.component\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { selectWritingFetching } from \"../../redux/writings/writings.selector\";\r\nimport IdolCollectionPage from \"./idol-collection.component\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isLoading: selectWritingFetching,\r\n});\r\n\r\nconst IdolCollectionContainer = compose(\r\n  connect(mapStateToProps),\r\n  WithSpinner\r\n)(IdolCollectionPage);\r\n\r\nexport default IdolCollectionContainer;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { selectCurentWriting } from \"../../redux/writings/writings.selector\";\r\nimport WritingItem from \"../../component/writing-item/writing-item.component\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchWritingStart } from \"../../redux/writings/wirtings.action\";\r\nimport { selectFetchCount } from \"../../redux/writings/writings.selector\";\r\n\r\nconst UserCollection = () => {\r\n  const { userId } = useParams();\r\n  const writings = useSelector(selectCurentWriting);\r\n  const dispatch = useDispatch();\r\n  const fetchCount = useSelector(selectFetchCount);\r\n  const checkUserCollectionIsEmpty = () =>\r\n    writings.filter((writing) => writing.userId === userId).length;\r\n\r\n  useEffect(() => {\r\n    console.log(writings.length);\r\n    console.log(fetchCount);\r\n    console.log(fetchWritingStart);\r\n    if (writings.length !== 0) {\r\n      return;\r\n    }\r\n    if (fetchCount >= 1) {\r\n      return;\r\n    }\r\n    dispatch(fetchWritingStart());\r\n  }, [dispatch, writings.length, fetchCount]);\r\n  return (\r\n    <div className=\"user-collection-container\">\r\n      {checkUserCollectionIsEmpty() ? (\r\n        writings.map((writing) => {\r\n          if (writing.userId === userId) {\r\n            return <WritingItem key={writing.writingId} {...writing} />;\r\n          }\r\n          return null;\r\n        })\r\n      ) : (\r\n        <div className=\"empty-collection-page\">\r\n          <p>😅 아직 등록한 게시물이 없습니다;;</p>\r\n          <span>첫번째 글을 등록해 보세요!!</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCollection;\r\n","import \"./App.css\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport SignUpPage from \"./component/sign-up/sign-up.component\";\nimport SignInPage from \"./component/sign-in/sign-in.component\";\nimport UserProfileContainer from \"./pages/userprofile/userprofile.container\";\nimport React, { useEffect } from \"react\";\nimport Header from \"./component/header/header.component\";\nimport HomePage from \"./pages/Homepage/homepage.component\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectCurrentUser } from \"./redux/user/user.selector\";\nimport { checkUserSession } from \"./redux/user/user.action\";\nimport WritePage from \"./pages/write/write.pages\";\nimport IdolCollection from \"./component/idol-collection/idol-collection.component\";\nimport IdolCollectionContainer from \"./pages/idolcollection/idol-collection.container\";\nimport UserCollection from \"./pages/userCollection/user-collection.component\";\nconst App = () => {\n  const currentUser = useSelector(selectCurrentUser);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    history.push(\"/\");\n    dispatch(checkUserSession());\n  }, [dispatch, history]);\n\n  return (\n    <>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\" render={() => <HomePage />} />\n        <Route exact path=\"/signup\" component={SignUpPage} />\n        <Route\n          exact\n          path=\"/signin\"\n          render={() => (currentUser ? <Redirect to=\"/\" /> : <SignInPage />)}\n        />\n        <Route\n          exact\n          path=\"/profile\"\n          render={() => (currentUser ? <UserProfileContainer /> : <HomePage />)}\n        ></Route>\n        <Route exact path=\"/write\" component={WritePage}></Route>\n        <Route exact path=\"/collection\">\n          <IdolCollectionContainer />\n        </Route>\n        <Route path=\"/collection/user/:userId\">\n          <UserCollection />\n        </Route>\n        <Route path=\"/collection/:id\">\n          <IdolCollection />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const idolData = {\r\n  sections: [\r\n    {\r\n      title: \"아이즈원\",\r\n      imageUrl:\r\n        \"https://data.ygosu.com/editor/attach/20190226/20190226183618_zltermyq.png\",\r\n      id: 1,\r\n      linkUrl: `/${encodeURIComponent(\"아이즈원\")}`,\r\n    },\r\n    {\r\n      title: \"트와이스\",\r\n      imageUrl: \"https://pbs.twimg.com/media/Cy3Wj-5UAAAnKhC.jpg\",\r\n      id: 2,\r\n      linkUrl: `/${encodeURIComponent(\"트와이스\")}`,\r\n    },\r\n    {\r\n      title: \"itzy\",\r\n      imageUrl: \"https://t1.daumcdn.net/cfile/tistory/998490455C7ABBF703\",\r\n      id: 3,\r\n      linkUrl: `/${encodeURIComponent(\"itzy\")}`,\r\n    },\r\n    {\r\n      title: \"러블리즈\",\r\n      imageUrl: \"https://pbs.twimg.com/media/DNoNIHMUEAAQRai.jpg:large\",\r\n      id: 4,\r\n      linkUrl: `/${encodeURIComponent(\"러블리즈\")}`,\r\n    },\r\n    {\r\n      title: \"오마이걸\",\r\n      imageUrl:\r\n        \"https://blog.kakaocdn.net/dn/tegj9/btqyuFpCiAj/KCKVi3ABV1KA1duQLSm1c1/img.jpg\",\r\n      id: 5,\r\n      linkUrl: `/${encodeURIComponent(\"오마이걸\")}`,\r\n    },\r\n    {\r\n      title: \"레드벨벳\",\r\n      imageUrl:\r\n        \"https://blog.kakaocdn.net/dn/bvtVxD/btqMfhWcXgE/anTtVfo6r12XiVNOLuhlkK/img.png\",\r\n      id: 6,\r\n      linkUrl: `/${encodeURIComponent(\"레드벨벳\")}`,\r\n    },\r\n    {\r\n      title: \"에스파\",\r\n      imageUrl: \"https://pbs.twimg.com/media/Er64LL-VQAA708Y.jpg\",\r\n      id: 7,\r\n      linkUrl: `/${encodeURIComponent(\"에스파\")}`,\r\n    },\r\n    {\r\n      title: \"블랙핑크\",\r\n      imageUrl:\r\n        \"https://www.wallpapertip.com/wmimgs/96-966442_blackpink-hd.jpg\",\r\n      id: 8,\r\n      linkUrl: `/${encodeURIComponent(\"블랙핑크\")}`,\r\n    },\r\n  ],\r\n};\r\n\r\nexport default idolData;\r\n","const IdolTypeActions = {\r\n  CHANGE_IMAGE_SIZE: \"CHANGE_IMAGE_SIZE\",\r\n};\r\n\r\nexport default IdolTypeActions;\r\n","import idolData from \"./idol.data\";\r\nimport IdolTypeActions from \"./idol.type\";\r\nconst idolReducer = (state = idolData, action) => {\r\n  switch (action.type) {\r\n    case IdolTypeActions.CHANGE_IMAGE_SIZE:\r\n      return {\r\n        ...state,\r\n        imageUrl: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default idolReducer;\r\n","import { UserActionTypes } from \"./user.types\";\r\n\r\nconst INITIAL_STATE = {\r\n  currentUser: null,\r\n  error: null,\r\n  isFetching: true,\r\n  isLoggedIn: false,\r\n};\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case UserActionTypes.REFRESH_USER_START:\r\n    case UserActionTypes.CHECK_USER_SESSION:\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n      };\r\n    case UserActionTypes.REFRESH_USER_SUCCESS:\r\n    case UserActionTypes.SIGN_IN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n        error: null,\r\n        isFetching: false,\r\n        isLoggedIn: true,\r\n      };\r\n    case UserActionTypes.SIGN_OUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: null,\r\n        error: null,\r\n        isFetching: false,\r\n        isLoggedIn: false,\r\n      };\r\n    case UserActionTypes.REFRESH_USER_FAILURE:\r\n    case UserActionTypes.SIGN_IN_FAILURE:\r\n    case UserActionTypes.SIGN_OUT_FAILURE:\r\n    case UserActionTypes.SIGN_UP_FAILURE:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import WritingActionTypes from \"./writings.types\";\r\n\r\nconst INITIAL_STATE = {\r\n  isFetching: false,\r\n  writings: [],\r\n  error: null,\r\n  fetchCount: 0,\r\n};\r\n\r\nconst writingReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case WritingActionTypes.addWritingStart:\r\n    case WritingActionTypes.deleteWritingStart:\r\n    case WritingActionTypes.fetchWritingStart:\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n        error: null,\r\n        fetchCount: state.fetchCount + 1,\r\n      };\r\n    case WritingActionTypes.fetchWritingSuccess:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        writings: action.payload,\r\n        error: null,\r\n      };\r\n    case WritingActionTypes.addWritingFailure:\r\n    case WritingActionTypes.deleteWritingFailure:\r\n    case WritingActionTypes.fetchWritingFailure:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default writingReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport idolReducer from \"./idol/idol.reducer\";\r\nimport userReducer from \"./user/user.reducer\";\r\nimport writingReducer from \"./writings/writings.reducer\";\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"cart\"],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  idol: idolReducer,\r\n  writing: writingReducer,\r\n});\r\n\r\nexport default persistReducer(persistConfig, rootReducer);\r\n","import { takeLatest, put, all, call } from \"redux-saga/effects\";\r\nimport {\r\n  auth,\r\n  googleProvider,\r\n  getCurrentUser,\r\n  createUserProfileDocument,\r\n} from \"../../firebase/firebase.utils\";\r\nimport { UserActionTypes } from \"./user.types\";\r\nimport {\r\n  signInFailure,\r\n  signInSuccess,\r\n  signOutSuccess,\r\n  signOutFailure,\r\n  signUpSuccess,\r\n  signUpFailure,\r\n} from \"./user.action\";\r\n\r\nexport function* getSnapshotFromUserAuth(userAuth, additionalData) {\r\n  try {\r\n    const userRef = yield call(\r\n      createUserProfileDocument,\r\n      userAuth,\r\n      additionalData\r\n    );\r\n    const userSnapshot = yield userRef.get();\r\n    yield put(\r\n      signInSuccess({\r\n        id: userSnapshot.id,\r\n        ...userSnapshot.data(),\r\n      })\r\n    );\r\n  } catch (err) {\r\n    yield put(signInFailure(err));\r\n  }\r\n}\r\n\r\nexport function* signInwithGoogle() {\r\n  try {\r\n    const { user } = yield auth.signInWithPopup(googleProvider);\r\n    yield getSnapshotFromUserAuth(user);\r\n  } catch (err) {\r\n    yield put(signInFailure(err));\r\n  }\r\n}\r\n\r\nexport function* signInWithEmail({ payload: { email, password } }) {\r\n  try {\r\n    const { user } = yield auth.signInWithEmailAndPassword(email, password);\r\n    yield getSnapshotFromUserAuth(user);\r\n  } catch (err) {\r\n    yield put(signInFailure(err));\r\n  }\r\n}\r\n\r\nexport function* isUserAuthenticate() {\r\n  try {\r\n    const userAuth = yield getCurrentUser();\r\n    if (!userAuth) return;\r\n    yield getSnapshotFromUserAuth(userAuth);\r\n  } catch (err) {\r\n    yield put(signInFailure(err));\r\n  }\r\n}\r\n\r\nexport function* signOut() {\r\n  try {\r\n    yield auth.signOut();\r\n    yield put(signOutSuccess());\r\n  } catch (err) {\r\n    yield put(signOutFailure());\r\n  }\r\n}\r\n\r\nexport function* signUp({ payload: { email, password, ...additionalData } }) {\r\n  try {\r\n    const { user } = yield auth.createUserWithEmailAndPassword(email, password);\r\n    yield put(signUpSuccess({ user, additionalData: { ...additionalData } }));\r\n  } catch (err) {\r\n    yield put(signUpFailure(err));\r\n  }\r\n}\r\n\r\nexport function* signInAfterSignUp({ payload: { user, additionalData } }) {\r\n  yield getSnapshotFromUserAuth(user, additionalData);\r\n}\r\n\r\nexport function* onGoogleSignInStart() {\r\n  yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInwithGoogle);\r\n}\r\n\r\nexport function* onEmailSignInStart() {\r\n  yield takeLatest(UserActionTypes.EMAIL_SIGN_IN_START, signInWithEmail);\r\n}\r\n\r\nexport function* onCheckUserSession() {\r\n  yield takeLatest(UserActionTypes.CHECK_USER_SESSION, isUserAuthenticate);\r\n}\r\n\r\nexport function* onSignOutStart() {\r\n  yield takeLatest(UserActionTypes.SIGN_OUT_START, signOut);\r\n}\r\n\r\nexport function* onSignUpStart() {\r\n  yield takeLatest(UserActionTypes.SIGN_UP_START, signUp);\r\n}\r\n\r\nexport function* onSignUpSuccess() {\r\n  yield takeLatest(UserActionTypes.SIGN_UP_SUCCESS, signInAfterSignUp);\r\n}\r\nexport function* userSagas() {\r\n  yield all([\r\n    call(onGoogleSignInStart),\r\n    call(onEmailSignInStart),\r\n    call(onCheckUserSession),\r\n    call(onSignOutStart),\r\n    call(onSignUpStart),\r\n    call(onSignUpSuccess),\r\n  ]);\r\n}\r\n","import { takeLatest, put, all, call } from \"redux-saga/effects\";\r\nimport WritingActionTypes from \"./writings.types\";\r\nimport { firestore } from \"../../firebase/firebase.utils\";\r\nimport {\r\n  fetchWritingSuccess,\r\n  fetchWritingFailure,\r\n  addWritingFailure,\r\n  deleteWritingFailure,\r\n} from \"./wirtings.action.js\";\r\n\r\nexport function* fetchWritingData() {\r\n  try {\r\n    let data = [];\r\n    yield firestore\r\n      .collection(\"writings\")\r\n      .get()\r\n      .then((querySnapShot) => {\r\n        querySnapShot.forEach((doc) => data.push(doc.data()));\r\n      });\r\n    data = data.sort((a, b) => a.createAt - b.createAt);\r\n    yield put(fetchWritingSuccess(data));\r\n  } catch (err) {\r\n    yield put(fetchWritingFailure(err));\r\n  }\r\n}\r\n\r\nexport function* addWritings({ payload: { writing, id } }) {\r\n  try {\r\n    yield firestore.collection(\"writings\").doc(id).set(writing);\r\n    yield fetchWritingData();\r\n  } catch (err) {\r\n    yield put(addWritingFailure(err));\r\n  }\r\n}\r\n\r\nexport function* deleteWriting({ payload: id }) {\r\n  try {\r\n    yield firestore.collection(\"writings\").doc(id).delete();\r\n    yield fetchWritingData();\r\n  } catch (err) {\r\n    yield put(deleteWritingFailure(err));\r\n  }\r\n}\r\n\r\nexport function* onAddWritings() {\r\n  yield takeLatest(WritingActionTypes.addWritingStart, addWritings);\r\n}\r\n\r\nexport function* onDeleteWritings() {\r\n  yield takeLatest(WritingActionTypes.deleteWritingStart, deleteWriting);\r\n}\r\n\r\nexport function* onfetchWritingData() {\r\n  yield takeLatest(WritingActionTypes.fetchWritingStart, fetchWritingData);\r\n}\r\n\r\nexport function* writingSagas() {\r\n  yield all([\r\n    call(onAddWritings),\r\n    call(onDeleteWritings),\r\n    call(onfetchWritingData),\r\n  ]);\r\n}\r\n","import { all, call } from \"redux-saga/effects\";\r\nimport { userSagas } from \"./user/user.saga\";\r\nimport { writingSagas } from \"./writings/writings.saga\";\r\nexport default function* rootSaga() {\r\n  yield all([call(userSagas), call(writingSagas)]);\r\n}\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport logger from \"redux-logger\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport rootReducer from \"./root-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootSaga from \"./root-saga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middlewares = [logger, sagaMiddleware];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(...middlewares))\r\n);\r\nsagaMiddleware.run(rootSaga);\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <PersistGate persistor={persistor}>\n          <App />\n        </PersistGate>\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}